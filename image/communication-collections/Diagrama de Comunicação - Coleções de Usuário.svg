<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="431px" preserveAspectRatio="none" style="width:1999px;height:431px;background:#FFFFFF;" version="1.1" viewBox="0 0 1999 431" width="1999px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="336" x="824.5" y="24.9659">Diagrama de Comunica&#231;&#227;o - UC-17: Criar Cole&#231;&#227;o</text><g id="elem_Client"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="65" x="287" y="47.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="294" y="64.0339">:Cliente</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="304.5" y="83.1018">Web</text><line style="stroke:#181818;stroke-width:0.5;" x1="288" x2="351" y1="89.2038" y2="89.2038"/></g><g id="elem_Controller"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="197" x="325" y="293.9079"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="183" x="332" y="310.8739">:CollectionsBooksController</text><line style="stroke:#181818;stroke-width:0.5;" x1="326" x2="521" y1="316.9758" y2="316.9758"/></g><g id="elem_Service"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="178" x="799.5" y="293.9079"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="806.5" y="310.8739">:CollectionsBooksService</text><line style="stroke:#181818;stroke-width:0.5;" x1="800.5" x2="976.5" y1="316.9758" y2="316.9758"/></g><g id="elem_CollectionRepo"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="155" x="1255" y="293.9079"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="1262" y="310.8739">:CollectionRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="1256" x2="1409" y1="316.9758" y2="316.9758"/></g><g id="elem_Guard"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="85" x="526" y="56.6079"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="533" y="73.5739">:JWTGuard</text><line style="stroke:#181818;stroke-width:0.5;" x1="527" x2="610" y1="79.6758" y2="79.6758"/></g><g id="elem_DBMaster"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="111" x="1882" y="284.3779"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1904" y="301.3439">:Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1889" y="320.4118">MySQL Master</text><line style="stroke:#181818;stroke-width:0.5;" x1="1883" x2="1992" y1="326.5138" y2="326.5138"/></g><g id="elem_GMN19"><path d="M6,202.2079 L6,424.6801 L281,424.6801 L281,212.2079 L271,202.2079 L6,202.2079 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M271,202.2079 L271,212.2079 L281,212.2079 L271,202.2079 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="167" x="12" y="221.1049">Fluxo UC-17: Criar Cole&#231;&#227;o</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="12" y="238.8109">1. Cliente autenticado envia dados</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="12" y="256.517">2. JWT Guard valida token e extrai userId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254" x="12" y="274.223">3. Servi&#231;o cria cole&#231;&#227;o vinculada ao usu&#225;rio</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="12" y="291.929">4. Inser&#231;&#227;o no database master (write)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="12" y="309.635">5. Retorna cole&#231;&#227;o criada</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="12" y="327.341">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74" x="12" y="345.047">Valida&#231;&#245;es:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="12" y="362.7531">- Usu&#225;rio autenticado (JWT)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="12" y="380.4591">- Nome obrigat&#243;rio (max 100 chars)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="12" y="398.1651">- Descri&#231;&#227;o opcional (max 500 chars)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="12" y="415.8711">- Cole&#231;&#227;o pertence ao userId do token</text></g><!--link Client to Controller--><g id="link_Client_Controller"><path codeLine="14" d="M351.71,105.5879 C360.12,114.3779 368.49,124.5679 374.5,135.2079 C404.24,187.8879 416.0036,253.741 420.5236,287.491 " fill="none" id="Client-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="421.32,293.4379,424.0899,283.9866,420.6563,288.4822,416.1607,285.0485,421.32,293.4379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="392.47" y="150.1049">1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="406.47" y="150.1049">POST /collections(name, description)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="425.97" y="167.8109">Authorization: Bearer token</text></g><!--link Controller to Client--><g id="link_Controller_Client"><path codeLine="28" d="M407.78,293.7479 C386.34,269.3779 345.64,226.9579 302.5,202.2079 C263.73,179.9579 232.98,208.2179 206.5,172.2079 C196.76,158.9579 197.93,149.2379 206.5,135.2079 C223.8,106.8679 254.0401,93.4337 280.7901,85.8037 " fill="none" id="Controller-to-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="286.56,84.1579,276.808,82.78,281.7518,85.5294,279.0024,90.4731,286.56,84.1579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="207.5" y="159.1049">2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="221.5" y="159.1049">201 Created {collection}</text></g><!--link Guard to Client--><g id="link_Guard_Client"><path codeLine="16" d="M525.59,76.1379 C476.39,76.1379 402.81,76.1379 358.31,76.1379 " fill="none" id="Guard-to-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="352.31,76.1379,361.31,80.1379,357.31,76.1379,361.31,72.1379,352.31,76.1379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="375" y="69.0349">1.0.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="411" y="69.0349">validateToken()</text></g><!--link Client to Guard--><g id="link_Client_Guard"><path codeLine="17" d="M352.11,86.2179 C368.8,90.8479 389.54,95.8279 408.5,98.1379 C435.41,101.4179 442.55,101.0979 469.5,98.1379 C488.23,96.0779 502.7558,93.2985 520.1258,89.1285 " fill="none" id="Client-to-Guard" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="525.96,87.7279,516.2749,85.9394,521.0981,88.8951,518.1424,93.7183,525.96,87.7279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="409.5" y="94.0349">1.0.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="445.5" y="94.0349">JWT</text></g><!--link Guard to Controller--><g id="link_Guard_Controller"><path codeLine="18" d="M601.22,96.0779 C614.79,105.8579 629.09,119.1379 636.5,135.2079 C643.39,150.1379 644.3,157.7279 636.5,172.2079 C603.31,233.7879 535.5194,270.511 484.2094,291.341 " fill="none" id="Guard-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="478.65,293.5979,488.4936,293.9188,483.2828,291.7172,485.4844,286.5063,478.65,293.5979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="643.01" y="159.1049">1.0.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="679.01" y="159.1049">user={id, email, role}</text></g><!--link Controller to Service--><g id="link_Controller_Service"><path codeLine="20" d="M522.4,313.4379 C604.4,313.4379 713.96,313.4379 793.19,313.4379 " fill="none" id="Controller-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="799.19,313.4379,790.19,309.4379,794.19,313.4379,790.19,317.4379,799.19,313.4379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="544.75" y="306.3349">1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="569.75" y="306.3349">create(userId, createCollectionDto)</text></g><!--link Service to Controller--><g id="link_Service_Controller"><path codeLine="27" d="M799.41,326.1579 C768.83,329.9379 734.36,333.5779 702.75,335.4379 C642.79,338.9779 581.661,334.6711 528.261,328.5511 " fill="none" id="Service-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="522.3,327.8679,530.786,332.8667,527.2675,328.4372,531.6969,324.9187,522.3,327.8679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="619.75" y="331.3349">1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="644.75" y="331.3349">collection</text></g><!--link Service to CollectionRepo--><g id="link_Service_CollectionRepo"><path codeLine="22" d="M977.82,313.4379 C1058.98,313.4379 1171.51,313.4379 1248.82,313.4379 " fill="none" id="Service-to-CollectionRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1254.82,313.4379,1245.82,309.4379,1249.82,313.4379,1245.82,317.4379,1254.82,313.4379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1000.25" y="306.3349">1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1036.25" y="306.3349">save({name, description, userId})</text></g><!--link CollectionRepo to Service--><g id="link_CollectionRepo_Service"><path codeLine="25" d="M1254.57,325.7479 C1226.08,329.6779 1193.53,333.5079 1163.75,335.4379 C1121.62,338.1779 1110.89,338.0079 1068.75,335.4379 C1039.01,333.6379 1012.6227,330.9097 983.6427,327.2497 " fill="none" id="CollectionRepo-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="977.69,326.4979,986.1179,331.5941,982.6506,327.1244,987.1203,323.6571,977.69,326.4979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1069.75" y="331.3349">1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1105.75" y="331.3349">collection</text></g><!--link CollectionRepo to DBMaster--><g id="link_CollectionRepo_DBMaster"><path codeLine="23" d="M1410.35,313.4379 C1534.18,313.4379 1767.06,313.4379 1875.51,313.4379 " fill="none" id="CollectionRepo-to-DBMaster" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1881.51,313.4379,1872.51,309.4379,1876.51,313.4379,1872.51,317.4379,1881.51,313.4379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="1433" y="288.3349">1.1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="1480" y="288.3349">INSERT INTO collections (name, description, user_id, created_at)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1579" y="306.0409">VALUES (?, ?, ?, NOW())</text></g><!--link DBMaster to CollectionRepo--><g id="link_DBMaster_CollectionRepo"><path codeLine="24" d="M1881.67,320.4279 C1836.21,325.7479 1770.32,332.6179 1712.5,335.4379 C1653.46,338.3179 1638.55,338.0679 1579.5,335.4379 C1522.73,332.9179 1464.7985,327.7622 1416.2185,322.7622 " fill="none" id="DBMaster-to-CollectionRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1410.25,322.1479,1418.7932,327.0483,1415.2237,322.6598,1419.6122,319.0904,1410.25,322.1479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="1580.5" y="331.3349">1.1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1627.5" y="331.3349">newCollection</text></g><!--link Client to GMN19--><g id="link_Client_GMN19"><path d="M286.61,83.2179 C256.7,90.4779 213.53,105.5479 188.5,135.2079 C172.53,154.1279 162.11,177.9679 155.35,201.9879 " fill="none" id="Client-GMN19" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[VLJTJjim5BxFKnnnipHginQ69bNg9cZPr0derXQuGK9kSWOUYLqvJe4XhdQnvvXsmGDCUuAys8xjf0b_goh5Zh_lEp_VYJNN2SA8itF5KWOnmb2ckU0HA-wBtn8wS3JizDxsOQWuKtIOe3tml5SmMNn3BJDFqZFIiD4V9Xo5nbDnWeiDO1cu5ms0J19QSIcoNIaliw4KMfbtoi7NsvSfCrGh7g75b-ldm5DSoenhgMvAvUP1JVXqCl-OCnLRa5tLPoEcsO9bLCx1pUpBFXomJ9U9ZdRTndHXC1YiUpGTxqnXEDdVAtuMFoRcoFDS3w3phb4Uz248UlqWWC-JsHnUHtMHlc0fjic8B59yQLwrJiLEhY-auj-PsVTX5vaY4IqlKNYUJTlgkqXME-o6Ld_54XupZNE3zLkDR1oj0cyQC7MZKdicNK9j6LIUeHhSyhWDc3AUj850U4U5rdXYbzwKL9jBf90oyGr_J6othPqPQTdol8fd4sYQLYavhOojqBzzqgisEFKxglGXc_GgrsebfpK-dErDv_IOJw3X1FWlo9_nTVRn6TFap_7E_j7U3FptRN3_myc9tsfvwuYT_vJZUY_mgWOyIVvfGnshJhVHkUUyUunkclLmT2noizkZBzvM2BSrZLmMKYCifDOo1Vcr-iA1Va7m8SclvGiNHX1OK2yiAGWir_IacoQMW6B5wVQXPMPXcw4Pnd96tGoxSGS4lDQAyT9eYzuANNUAUqc-a51KHOKL5r6UCA8pIPIy-AMujAGt8Om5QJYSa1JTVU-GEi_yAyKrjYnuEuGftNLADBLDg9XvPV77Daiw-OjPlwoMRiyov8DgVQgjLG8EPOeW5ugVCrtyCKW_PTVGwtOXkc0ggt0ZEuKki5n6P0PB77JxCNJTSrYYegWq4xPuqo-WyExUG163CTFx1m00]--></g></svg>