<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="600px" preserveAspectRatio="none" style="width:3399px;height:600px;background:#FFFFFF;" version="1.1" viewBox="0 0 3399 600" width="3399px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="436" x="1474.75" y="24.9659">Diagrama de Comunica&#231;&#227;o - UC-09: Visualizar Detalhes do Livro</text><g id="elem_Client"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="65" x="132.5" y="125.7179"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="139.5" y="142.6839">:Cliente</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="150" y="161.7518">Web</text><line style="stroke:#181818;stroke-width:0.5;" x1="133.5" x2="196.5" y1="167.8538" y2="167.8538"/></g><g id="elem_Controller"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="124" x="393" y="135.2479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="400" y="152.2139">:BooksController</text><line style="stroke:#181818;stroke-width:0.5;" x1="394" x2="516" y1="158.3158" y2="158.3158"/></g><g id="elem_Service"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="105" x="694.5" y="135.2479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="701.5" y="152.2139">:BooksService</text><line style="stroke:#181818;stroke-width:0.5;" x1="695.5" x2="798.5" y1="158.3158" y2="158.3158"/></g><g id="elem_BookRepo"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="121" x="2698.5" y="135.2479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="2705.5" y="152.2139">:BookRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="2699.5" x2="2818.5" y1="158.3158" y2="158.3158"/></g><g id="elem_ChapterRepo"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="143" x="1653.5" y="135.2479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1660.5" y="152.2139">:ChapterRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="1654.5" x2="1795.5" y1="158.3158" y2="158.3158"/></g><g id="elem_Cache"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="96" x="1506" y="135.2479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1513" y="152.2139">:RedisCache</text><line style="stroke:#181818;stroke-width:0.5;" x1="1507" x2="1601" y1="158.3158" y2="158.3158"/></g><g id="elem_DBSlave"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="99" x="2355.5" y="125.7179"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="2371.5" y="142.6839">:Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="2362.5" y="161.7518">MySQL Slave</text><line style="stroke:#181818;stroke-width:0.5;" x1="2356.5" x2="2453.5" y1="167.8538" y2="167.8538"/></g><g id="elem_GMN10"><path d="M2872,140.9279 L2872,168.6339 L2936,168.6339 L2936,150.9279 L2926,140.9279 L2872,140.9279 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2926,140.9279 L2926,150.9279 L2936,150.9279 L2926,140.9279 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="2878" y="159.8249">bookId</text></g><g id="elem_GMN17"><path d="M2988.5,105.5179 L2988.5,204.048 L3117.5,204.048 L3117.5,115.5179 L3107.5,105.5179 L2988.5,105.5179 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3107.5,105.5179 L3107.5,115.5179 L3117.5,115.5179 L3107.5,105.5179 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="2994.5" y="124.4149">Relations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="2994.5" y="142.1209">- authors</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="2994.5" y="159.827">- tags</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="2994.5" y="177.533">- covers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2994.5" y="195.239">- sensitiveContent</text></g><g id="elem_GMN28"><path d="M3169.5,123.2279 L3169.5,186.346 L3392.5,186.346 L3392.5,133.2279 L3382.5,123.2279 L3169.5,123.2279 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3382.5,123.2279 L3382.5,133.2279 L3392.5,133.2279 L3382.5,123.2279 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="3175.5" y="142.1249">- Adicionar contagem de cap&#237;tulos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="3175.5" y="159.8309">- Formatar URLs das capas</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="3175.5" y="177.537">- Adicionar metadados</text></g><g id="elem_GMN35"><path d="M6,265.0479 L6,593.7562 A0,0 0 0 0 6,593.7562 L324,593.7562 A0,0 0 0 0 324,593.7562 L324,275.0479 L314,265.0479 L169,265.0479 L165,184.1879 L161,265.0479 L6,265.0479 A0,0 0 0 0 6,265.0479 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M314,265.0479 L314,275.0479 L324,275.0479 L314,265.0479 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="194" x="12" y="283.9449">Fluxo UC-09: Detalhes do Livro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="12" y="301.6509">1. Cliente solicita detalhes de um livro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="12" y="319.357">2. Verifica cache Redis (10min TTL)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="12" y="337.063">3. Consulta banco slave com eager loading</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="12" y="354.769">4. Carrega: authors, tags, covers, sensitiveContent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="12" y="372.475">5. Conta cap&#237;tulos dispon&#237;veis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="12" y="390.181">6. Enriquece dados com metadados</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="12" y="407.887">7. Cacheia resultado completo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="12" y="425.5931">8. Retorna detalhes completos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="12" y="443.2991">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107" x="12" y="461.0051">Dados Inclu&#237;dos:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="12" y="478.7111">- Informa&#231;&#245;es b&#225;sicas (t&#237;tulo, descri&#231;&#227;o, status)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="12" y="496.4171">- Lista de autores</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="12" y="514.1231">- Tags/categorias</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="12" y="531.8292">- Conte&#250;do sens&#237;vel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="12" y="549.5352">- Capas dispon&#237;veis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="12" y="567.2412">- Total de cap&#237;tulos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="12" y="584.9472">- Datas de cria&#231;&#227;o/atualiza&#231;&#227;o</text></g><!--link Client to Controller--><g id="link_Client_Controller"><path codeLine="15" d="M197.91,166.1379 C211.87,170.3879 228.42,174.6879 243.75,176.7879 C289.1,182.9979 301.2,181.3679 346.75,176.7879 C361.73,175.2779 371.8135,173.7895 386.7635,170.8395 " fill="none" id="Client-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="392.65,169.6779,383.0459,167.4959,387.7446,170.6459,384.5946,175.3446,392.65,169.6779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="244.75" y="172.6849">1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="258.75" y="172.6849">GET /books/:id</text></g><!--link Controller to Client--><g id="link_Controller_Client"><path codeLine="52" d="M392.6,154.7879 C332.91,154.7879 251.19,154.7879 203.98,154.7879 " fill="none" id="Controller-to-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="197.98,154.7879,206.98,158.7879,202.98,154.7879,206.98,150.7879,197.98,154.7879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="224.25" y="147.6849">2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="238.25" y="147.6849">200 OK {book details}</text></g><!--link DBSlave to GMN10--><g id="link_DBSlave_GMN10"><path d="M2454.91,133.9179 C2533.58,103.9379 2690.77,55.9179 2820,90.5179 C2850.15,98.5979 2877.3,124.2879 2892.14,140.6379 " fill="none" id="DBSlave-GMN10" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link Controller to Service--><g id="link_Controller_Service"><path codeLine="18" d="M517.28,154.7879 C569.88,154.7879 638.36,154.7879 688.1,154.7879 " fill="none" id="Controller-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="694.1,154.7879,685.1,150.7879,689.1,154.7879,685.1,158.7879,694.1,154.7879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="543.75" y="147.6849">1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="568.75" y="147.6849">findOne(bookId)</text></g><!--link Service to Controller--><g id="link_Service_Controller"><path codeLine="51" d="M694.03,170.5079 C683.12,173.1179 671.64,175.4179 660.75,176.7879 C612.24,182.8779 599.33,182.2979 550.75,176.7879 C539.9,175.5579 534.3732,174.7948 523.3632,172.4948 " fill="none" id="Service-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="517.49,171.2679,525.4819,177.0238,522.3843,172.2904,527.1178,169.1928,517.49,171.2679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="551.75" y="172.6849">1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="576.75" y="172.6849">enrichedBook</text></g><!--link Service to Cache--><g id="link_Service_Cache"><path codeLine="20" d="M799.81,159.8079 C860,165.2579 961.35,173.5979 1048.75,176.7879 C1141.13,180.1479 1164.37,180.1979 1256.75,176.7879 C1344.66,173.5379 1440.9255,165.45 1499.6855,160.02 " fill="none" id="Service-to-Cache" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1505.66,159.4679,1496.3301,156.313,1500.6812,159.928,1497.0663,164.2791,1505.66,159.4679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1049.75" y="172.6849">1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1085.75" y="172.6849">get("book:details:" + bookId)</text></g><!--link Cache to Service--><g id="link_Cache_Service"><path codeLine="21" d="M1505.56,148.4879 C1461.41,143.0879 1394.32,135.7279 1335.75,132.7879 C1254.52,128.6979 1050.98,128.7779 969.75,132.7879 C911.53,135.6479 851.018,141.9992 805.958,147.3592 " fill="none" id="Cache-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="800,148.0679,809.4095,150.9768,804.965,147.4773,808.4645,143.0328,800,148.0679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1086.25" y="122.6849">1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1122.25" y="122.6849">null (cache miss)</text></g><!--link Service to Cache--><g id="link_Service_Cache"><path codeLine="48" d="M799.95,154.7879 C947.75,154.7879 1357.24,154.7879 1499.5,154.7879 " fill="none" id="Service-to-Cache-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1505.5,154.7879,1496.5,150.7879,1500.5,154.7879,1496.5,158.7879,1505.5,154.7879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="970.75" y="147.6849">1.1.8:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328" x="1006.75" y="147.6849">set("book:details:" + bookId, enrichedBook, TTL=10min)</text></g><!--link Cache to Service--><g id="link_Cache_Service"><path codeLine="49" d="M1505.62,164.8279 C1447.02,176.4379 1345.17,194.8379 1256.75,201.7879 C1164.59,209.0279 1140.92,208.9179 1048.75,201.7879 C960.87,194.9779 865.7604,178.3295 805.7504,166.6995 " fill="none" id="Cache-to-Service-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="799.86,165.5579,807.9346,171.1972,804.7687,166.5092,809.4566,163.3433,799.86,165.5579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1125.75" y="197.6849">1.1.9:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="1161.75" y="197.6849">OK</text></g><!--link Service to BookRepo--><g id="link_Service_BookRepo"><path codeLine="23" d="M768.26,134.9979 C791.88,114.4879 832.17,83.7179 873.5,71.3179 C932.03,53.7479 1087.39,70.5279 1148.5,71.3179 C1740.87,78.9179 1891.57,46.0679 2481,105.5179 C2556.35,113.1179 2636.1284,128.2535 2692.2084,140.0435 " fill="none" id="Service-to-BookRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2698.08,141.2779,2690.0955,135.5118,2693.187,140.2492,2688.4496,143.3407,2698.08,141.2779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="874.5" y="71.4149">1.1.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="910.5" y="71.4149">findOne({id, deletedAt: null}, {relations})</text></g><!--link BookRepo to Service--><g id="link_BookRepo_Service"><path codeLine="34" d="M2698.08,141.2779 C2642,129.4879 2556.35,113.1179 2481,105.5179 C1891.57,46.0679 1740.87,78.9179 1148.5,71.3179 C1087.39,70.5279 932.03,53.7479 873.5,71.3179 C832.17,83.7179 796.4104,110.554 772.7904,131.064 " fill="none" id="BookRepo-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="768.26,134.9979,777.6782,132.1173,772.0353,131.7197,772.433,126.0768,768.26,134.9979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="977.5" y="71.4149">1.1.4:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1013.5" y="71.4149">book</text></g><!--link GMN10 to GMN17--><g id="link_GMN10_GMN17"><path d="M2936.3,154.7879 C2953.62,154.7879 2970.95,154.7879 2988.27,154.7879 " fill="none" id="GMN10-GMN17" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link BookRepo to DBSlave--><g id="link_BookRepo_DBSlave"><path codeLine="32" d="M2698.01,154.7879 C2629.27,154.7879 2524.82,154.7879 2460.97,154.7879 " fill="none" id="BookRepo-to-DBSlave" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2454.97,154.7879,2463.97,158.7879,2459.97,154.7879,2463.97,150.7879,2454.97,154.7879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="2477" y="94.6849">1.1.3.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="2524" y="94.6849">SELECT b.*, a.*, t.*, c.*, s.*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="2532.5" y="112.3909">FROM books b</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="2474" y="130.097">LEFT JOIN books_authors ba ON ...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="2456.5" y="147.803">WHERE b.id=? AND b.deleted_at IS NULL</text></g><!--link DBSlave to BookRepo--><g id="link_DBSlave_BookRepo"><path codeLine="33" d="M2454.92,171.4779 C2463.37,173.6779 2472.12,175.5879 2480.5,176.7879 C2522.74,182.8179 2630.16,182.0879 2672.5,176.7879 C2680.96,175.7279 2683.9089,175.3915 2692.5389,173.5015 " fill="none" id="DBSlave-to-BookRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2698.4,172.2179,2688.7526,170.2359,2693.5158,173.2876,2690.4641,178.0507,2698.4,172.2179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="2481.5" y="172.6849">1.1.3.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="2528.5" y="172.6849">bookData with relations</text></g><!--link Service to ChapterRepo--><g id="link_Service_ChapterRepo"><path codeLine="36" d="M799.85,145.9479 C912.87,127.5479 1186.6,85.6479 1418,71.3179 C1468.13,68.2079 1597.75,51.7479 1644,71.3179 C1674.31,84.1379 1695.4858,109.5066 1709.3258,129.8566 " fill="none" id="Service-to-ChapterRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1712.7,134.8179,1710.9463,125.1265,1709.8882,130.6835,1704.3312,129.6254,1712.7,134.8179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1419" y="71.4149">1.1.5:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="1455" y="71.4149">count({bookId, deletedAt: null})</text></g><!--link ChapterRepo to Service--><g id="link_ChapterRepo_Service"><path codeLine="39" d="M1712.7,134.8179 C1698.86,114.4679 1674.31,84.1379 1644,71.3179 C1597.75,51.7479 1468.13,68.2079 1418,71.3179 C1186.6,85.6479 918.792,126.5838 805.772,144.9838 " fill="none" id="ChapterRepo-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="799.85,145.9479,809.3758,148.4498,804.785,145.1445,808.0903,140.5537,799.85,145.9479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1472" y="71.4149">1.1.6:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1508" y="71.4149">totalChapters</text></g><!--link ChapterRepo to DBSlave--><g id="link_ChapterRepo_DBSlave"><path codeLine="37" d="M1796.81,154.7879 C1935.42,154.7879 2230.63,154.7879 2349.41,154.7879 " fill="none" id="ChapterRepo-to-DBSlave" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2355.41,154.7879,2346.41,150.7879,2350.41,154.7879,2346.41,158.7879,2355.41,154.7879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="1823" y="147.6849">1.1.5.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="459" x="1870" y="147.6849">SELECT COUNT(*) FROM chapters WHERE book_id=? AND deleted_at IS NULL</text></g><!--link DBSlave to ChapterRepo--><g id="link_DBSlave_ChapterRepo"><path codeLine="38" d="M2355.15,160.1979 C2302.31,165.6479 2216.39,173.6779 2142,176.7879 C2020.86,181.8379 1885.9911,171.4864 1802.8911,163.2964 " fill="none" id="DBSlave-to-ChapterRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1796.92,162.7079,1805.4843,167.5714,1801.8959,163.1983,1806.2689,159.6099,1796.92,162.7079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="2011" y="172.6849">1.1.5.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2058" y="172.6849">chapterCount</text></g><!--link Service to Service--><g id="link_Service_Service"><path codeLine="41" d="M799.96,140.3279 C827.1,138.1679 851.5,142.9879 851.5,154.7879 C851.5,166.5879 833.0809,171.8861 805.9409,169.7161 " fill="none" id="Service-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="799.96,169.2379,808.6126,173.9425,804.9441,169.6364,809.2502,165.968,799.96,169.2379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="857.5" y="160.1849">1.1.7:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="893.5" y="160.1849">enrichBookData(book, totalChapters)</text></g><!--link GMN17 to GMN28--><g id="link_GMN17_GMN28"><path d="M3117.57,154.7879 C3134.81,154.7879 3152.04,154.7879 3169.28,154.7879 " fill="none" id="GMN17-GMN28" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[XLPBS-964BxhLtJv4go0_DZrFbH5KZRWB8aMAe2TYwjSWpI6ISGCEpCYsRZyOr8vvEHZBhdonz8z8u4mPEC37es-xldwwyV82fjpw0esqsp18EFGKOj2YfIj_rh_gQ05DvtMwViOReKfM2v-PngwtB9ypWra2XAnqYe8leBXz6TkbGaK_ayj7CMTN71f-PtyYK-FW1dm6rl0bLA_c8wILgiyvzfZDeylS6EkLoBb3bIkTn4ZlbH6MAK_EqorLUCpPqlBzGjSRNSB7V5Cc0vBv_uyjzg-xJBBfinWP1y_ZtzCO9opbGTshzoQv6YtsvLotTxaCldG6qDt24d_TZIabq7WvO3MDxMW8OOmF8l34BxhJU1aIf6Vn28BfB8Sj9ZDRGoqsy_GmTOCdPIYU0-Hy_4WP3QKlE4DZeEWmj2P55C5zl0PjuqZmiOP9bZa9Zw2hw4ozWQj_PEYSpAMHPv38tMWXJ1czxGg6nkRLtL-Zo9hOkNbtFBi4WCaNqzDUDGyPrOeQPwEQm84W7-ZwbNi7bl02ZjNsfHFbisgPQfMVBDlkCJSYnKdxQWOkSo0N0V1XYBIBVEuPUi56lUINcS2qoXi0gCVIpyf_PWel9FNe-57fvU1wPrCUjSJ-7xO7_Yj-v8XJ1aC1n154NR6XzweX_v4rluMBWTTN9Oot3CB_J4CRf8agDYq3WhfvQSZg2xXLs7di16k5jM1nBskB7ShOziH6-G58LDLIDjuz0Mndp0iaPhb0HKlTbJi36y6aqPu34wrr9iQA2N1C-utgloF9WS9UrbAjnrYlallW1nloC8gd6qbqkpeyXB-bk1SQf7EhqhrNQSrTttibMuBBZEHOdPmagPOXcp65pHtKxPSFziYLrMnNYkzGASQRaO9pbgSBmXXPi_90hirOndQRQlvFplz7R4sN-ZqPXaJpwvSC9D9qZuxNGZvfH7mdhmEVwYTUs2i-PJKlU-CCBBm8v7G3dj-UefUmPKSb5IV0Y_eL5ch5g0Ugdk5P0d3wxpuJMqcxykBAWmTx2mgZJWObQEEbZdt7ikXM43kxZK2dqTmoxLum2iH_7nprmCqd2gapx73lOeeObFaw6pAPAh0k19DaIN796l85Sk4d3dqQqGphVcCnTNiQhgnrImdLdD_M97TXJl5ibgv0B9PAhb-Nd7Xg-DD13sK-LF1CHMkD1oBRQ4Gw6taIqCmd1UEDgg4i2Kscu_yNOIXuaqfQ-fK0EmDBtZNkU_BD2_MpxYCIurRkFT05OpV4N-ZuNJzXq49KJVhUTC4CQaMxZi3exNC5kQuj4s4SJaXRHJIAxSdAD19oYoVAIqshU3qMV-3z4aoqY6ltb33xEk3ZgX53tOTzR4h0gJclu5Ea9Zxyd5FsoRx5m00]--></g></svg>