<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="395px" preserveAspectRatio="none" style="width:1194px;height:395px;background:#FFFFFF;" version="1.1" viewBox="0 0 1194 395" width="1194px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="336" x="422.25" y="24.9659">Diagrama de Comunica&#231;&#227;o - UC-04: Fazer Logout</text><g id="elem_Client"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="65" x="264" y="47.0679"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="271" y="64.0339">:Cliente</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="281.5" y="83.1018">Web</text><line style="stroke:#181818;stroke-width:0.5;" x1="265" x2="328" y1="89.2038" y2="89.2038"/></g><g id="elem_Controller"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="117" x="328" y="267.0479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="335" y="284.0139">:AuthController</text><line style="stroke:#181818;stroke-width:0.5;" x1="329" x2="444" y1="290.1158" y2="290.1158"/></g><g id="elem_Service"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="98" x="686.5" y="267.0479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="693.5" y="284.0139">:AuthService</text><line style="stroke:#181818;stroke-width:0.5;" x1="687.5" x2="783.5" y1="290.1158" y2="290.1158"/></g><g id="elem_Cache"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="96" x="1092.5" y="267.0479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1099.5" y="284.0139">:RedisCache</text><line style="stroke:#181818;stroke-width:0.5;" x1="1093.5" x2="1187.5" y1="290.1158" y2="290.1158"/></g><g id="elem_Guard"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="85" x="494" y="56.5979"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="501" y="73.5639">:JWTGuard</text><line style="stroke:#181818;stroke-width:0.5;" x1="495" x2="578" y1="79.6658" y2="79.6658"/></g><g id="elem_GMN8"><path d="M614.5,62.2779 L614.5,89.9839 L734.5,89.9839 L734.5,72.2779 L724.5,62.2779 L614.5,62.2779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M724.5,62.2779 L724.5,72.2779 L734.5,72.2779 L724.5,62.2779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="620.5" y="81.1749">Header with JWT</text></g><g id="elem_GMN18"><path d="M769,62.2779 L769,89.9839 L936,89.9839 L936,72.2779 L926,62.2779 L769,62.2779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M926,62.2779 L926,72.2779 L936,72.2779 L926,62.2779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="775" y="81.1749">Blacklist do access token</text></g><g id="elem_GMN24"><path d="M6,184.1979 L6,388.9641 L293,388.9641 L293,194.1979 L283,184.1979 L6,184.1979 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M283,184.1979 L283,194.1979 L293,194.1979 L283,184.1979 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="12" y="203.0949">Fluxo UC-04: Logout</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="12" y="220.8009">1. Cliente envia requisi&#231;&#227;o com JWT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="12" y="238.507">2. Guard valida token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="12" y="256.213">3. Refresh token &#233; removido do Redis</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="12" y="273.919">4. Access token vai para blacklist (at&#233; expirar)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="12" y="291.625">5. Cliente deve descartar tokens localmente</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="12" y="309.331">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49" x="12" y="327.037">Efeitos:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="12" y="344.7431">- Sess&#227;o invalidada</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="12" y="362.4491">- Refresh token n&#227;o pode mais ser usado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="12" y="380.1551">- Access token bloqueado por 15min</text></g><!--link Client to Controller--><g id="link_Client_Controller"><path codeLine="13" d="M320.39,105.4279 C327.25,114.5179 334.27,124.9179 339.5,135.1979 C362.18,179.8279 375.1871,231.6323 381.4871,260.8923 " fill="none" id="Client-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="382.75,266.7579,384.766,257.1176,381.6976,261.8699,376.9452,258.8015,382.75,266.7579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="347.8" y="150.0949">1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="361.8" y="150.0949">POST /auth/logout(Authorization: Bearer token)</text></g><!--link Controller to Client--><g id="link_Controller_Client"><path codeLine="30" d="M377.16,266.5579 C364.95,243.6579 341.43,205.6079 310.5,184.1979 C271.3,157.0679 236.12,192.3379 207.5,154.1979 C187.14,127.0579 225.0607,105.0237 258.1407,91.2537 " fill="none" id="Controller-to-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="263.68,88.9479,253.8339,88.7138,259.064,90.8694,256.9083,96.0994,263.68,88.9479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="208.5" y="150.0949">2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="222.5" y="150.0949">200 OK {message}</text></g><!--link Guard to GMN8--><g id="link_Guard_GMN8"><path d="M579.36,76.1379 C591,76.1379 602.65,76.1379 614.29,76.1379 " fill="none" id="Guard-GMN8" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link Guard to Client--><g id="link_Guard_Client"><path codeLine="16" d="M493.5,76.1379 C446.43,76.1379 377.99,76.1379 335.37,76.1379 " fill="none" id="Guard-to-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="329.37,76.1379,338.37,80.1379,334.37,76.1379,338.37,72.1379,329.37,76.1379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="347.5" y="69.0349">1.0.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="383.5" y="69.0349">validateToken()</text></g><!--link Client to Guard--><g id="link_Client_Guard"><path codeLine="17" d="M329.32,90.8279 C337.54,93.8479 346.46,96.5779 355,98.1379 C379.71,102.6279 443.19,102.0179 468,98.1379 C476.39,96.8179 479.4064,96.3499 487.7564,93.8799 " fill="none" id="Client-to-Guard" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="493.51,92.1779,483.745,90.8951,488.7154,93.5962,486.0143,98.5665,493.51,92.1779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="356" y="94.0349">1.0.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="392" y="94.0349">accessToken</text></g><!--link Guard to Controller--><g id="link_Guard_Controller"><path codeLine="18" d="M576.91,96.0779 C611.29,112.2779 655.31,133.2979 656.5,135.1979 C660.99,142.3579 660.98,147.0379 656.5,154.1979 C610.4,227.8979 515.6568,260.0248 451.1168,274.3848 " fill="none" id="Guard-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="445.26,275.6879,454.9139,277.6378,450.1407,274.602,453.1764,269.8287,445.26,275.6879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="660.86" y="150.0949">1.0.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="696.86" y="150.0949">user authenticated</text></g><!--link Controller to Service--><g id="link_Controller_Service"><path codeLine="20" d="M445.29,304.6279 C452.46,306.2479 459.73,307.6379 466.75,308.5879 C510.36,314.4579 621.25,315.1879 664.75,308.5879 C671.74,307.5179 673.203,307.4454 680.283,305.5554 " fill="none" id="Controller-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="686.08,304.0079,676.3528,302.4645,681.2492,305.2975,678.4162,310.1938,686.08,304.0079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="467.75" y="304.4849">1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="492.75" y="304.4849">logout(userId, refreshToken)</text></g><!--link Service to Controller--><g id="link_Service_Controller"><path codeLine="29" d="M686.06,286.5879 C622.68,286.5879 518.91,286.5879 451.31,286.5879 " fill="none" id="Service-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="445.31,286.5879,454.31,290.5879,450.31,286.5879,454.31,282.5879,445.31,286.5879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="463.25" y="279.4849">1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="488.25" y="279.4849">{message: "Logout realizado"}</text></g><!--link Service to Cache--><g id="link_Service_Cache"><path codeLine="22" d="M784.8,268.2579 C790.37,266.7579 796.02,265.4779 801.5,264.5879 C831.55,259.7079 1045.46,259.6379 1075.5,264.5879 C1081.02,265.4979 1080.9267,265.21 1086.5367,266.76 " fill="none" id="Service-to-Cache" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1092.32,268.3579,1084.7103,262.1055,1087.5006,267.0263,1082.5798,269.8166,1092.32,268.3579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="868" y="254.4849">1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="904" y="254.4849">del(refreshToken)</text></g><!--link Cache to Service--><g id="link_Cache_Service"><path codeLine="23" d="M1092.29,297.0179 C1068.93,301.5579 1040.38,306.3379 1014.5,308.5879 C947.2,314.4179 929.81,314.3679 862.5,308.5879 C836.64,306.3579 814.0319,302.7716 790.5919,298.2616 " fill="none" id="Cache-to-Service" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="784.7,297.1279,792.7821,302.7563,789.6099,298.0726,794.2937,294.9004,784.7,297.1279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="863.5" y="304.4849">1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="899.5" y="304.4849">1 (token removido)</text></g><!--link Service to Cache--><g id="link_Service_Cache"><path codeLine="25" d="M784.76,286.5879 C862.97,286.5879 1008.62,286.5879 1086.22,286.5879 " fill="none" id="Service-to-Cache-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1092.22,286.5879,1083.22,282.5879,1087.22,286.5879,1083.22,290.5879,1092.22,286.5879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="802.5" y="279.4849">1.1.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="838.5" y="279.4849">set(accessToken, "blacklist", TTL=15min)</text></g><!--link Cache to Service--><g id="link_Cache_Service"><path codeLine="27" d="M1098.42,306.5979 C1074.43,316.8979 1043.45,328.3579 1014.5,333.5879 C981.26,339.5779 895.75,339.5379 862.5,333.5879 C833.34,328.3579 807.6404,319.2485 783.4504,308.9485 " fill="none" id="Cache-to-Service-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="777.93,306.5979,784.6436,313.804,782.5303,308.5567,787.7776,306.4435,777.93,306.5979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="911.5" y="329.4849">1.1.4:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="947.5" y="329.4849">OK</text></g><!--link GMN8 to GMN18--><g id="link_GMN8_GMN18"><path d="M734.99,76.1379 C746.16,76.1379 757.33,76.1379 768.5,76.1379 " fill="none" id="GMN8-GMN18" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link Client to GMN24--><g id="link_Client_GMN24"><path d="M263.59,88.3479 C241.1,97.6079 212.26,112.8779 194.5,135.1979 C183.13,149.4879 174.63,166.5979 168.28,184.0779 " fill="none" id="Client-GMN24" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--SRC=[VLJ9Rjim4BtpAmQ-r1PYnyvo4U02YTkaIm0NYO9SUXcBOvkD92OavGO9yZKz5FsE_5Y7fEIb3QA3HNFUctcpoIbN47nGk31O8aY2YIxhIkNuyllbbuO-N4_wmwCKpl2H35peXQwT4EzWElj1JbkX-PqxwAIJGb7bw7jrGxCEe8LuiG6Sr6uvqPKpkYZ8HCZwxoxiYinAvHGmpNa3k2Ifx0JpPRI7qyRwvIOxhz78O0idhtOy7hU9N4pFfzUPln4YIeJ- -oqba4AIZD8aWM_JgmpsaVNi5o7lhjUcZNf4ftILmYcXOOBJjrJrHAKTWL6BfKlX4w5aoq_bbi2AX0XAGg0OCWGP30SXq0eB9T5HvXrrUrko8gq57tWmvZbP6w2jrrVqC_hGeslBDpu5TiXDTSJbsC8oiwblGmjwccmzzxFS0qDpGtQPnJH5I_1HVUrRPkHAAhgxX0Zg_nygvZE2RYWWXodrIadzLeYGaoNNtQh27dHc1UQtXRAkimTPTZ4U7PVgduwSjX2GkgbXRDmR-evyjEdNBJslLJfayLIoGrnG2fsu8vmET_KHfUuyxrHyTmO2-M0uv31h7yyYAfzfvtG9Ujwk4l2J96T5_Q3Nqno29KcmZGODae2gbKBMS5yhg-8gv-pBpw977WoQqOgZrrJ2Mmu7S1dR5o_XvS-wCxvqOVi2ycW09rjrP5SAxj0WhBi1NNHCfuSxPT3q0kjuer7Iol_O78t3Peqi3r-EHUa1eaduuvmKVshI9ii-zybQdv6gedo9ZM5NUUKnTvg_QIKg2tuJQiiDQS0xucU5lgzvQJt1G9WVGPK4tmZn5m00]--></g></svg>