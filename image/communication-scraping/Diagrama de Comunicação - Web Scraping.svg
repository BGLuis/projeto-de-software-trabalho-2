<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1168px" preserveAspectRatio="none" style="width:8200px;height:1168px;background:#FFFFFF;" version="1.1" viewBox="0 0 8200 1168" width="8200px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="395" x="3895.5" y="24.9659">Diagrama de Comunica&#231;&#227;o - UC-47: Scraping de Cap&#237;tulos</text><g id="elem_Client"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="62" x="7" y="135.5079"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="14" y="152.4739">:Admin</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="18.5" y="171.5418">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="68" y1="177.6438" y2="177.6438"/></g><g id="elem_Controller"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="168" x="675" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="682" y="162.0039">:AdminBooksController</text><line style="stroke:#181818;stroke-width:0.5;" x1="676" x2="842" y1="168.1058" y2="168.1058"/></g><g id="elem_ScrapingService"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="180" x="1418" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="1425" y="162.0039">:ChapterScrapingService</text><line style="stroke:#181818;stroke-width:0.5;" x1="1419" x2="1597" y1="168.1058" y2="168.1058"/></g><g id="elem_SeleniumService"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="126" x="3279" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="3286" y="162.0039">:ScrapingService</text><line style="stroke:#181818;stroke-width:0.5;" x1="3280" x2="3404" y1="168.1058" y2="168.1058"/></g><g id="elem_BookRepo"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="121" x="6664.5" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="6671.5" y="162.0039">:BookRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="6665.5" x2="6784.5" y1="168.1058" y2="168.1058"/></g><g id="elem_ChapterRepo"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="143" x="7726.5" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="7733.5" y="162.0039">:ChapterRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="7727.5" x2="7868.5" y1="168.1058" y2="168.1058"/></g><g id="elem_PageRepo"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="122" x="7912" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="7919" y="162.0039">:PageRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="7913" x2="8033" y1="168.1058" y2="168.1058"/></g><g id="elem_FilesService"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="96" x="2060" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="2067" y="162.0039">:FilesService</text><line style="stroke:#181818;stroke-width:0.5;" x1="2061" x2="2155" y1="168.1058" y2="168.1058"/></g><g id="elem_SeleniumHub"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="109" x="4331.5" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="4338.5" y="162.0039">:SeleniumHub</text><line style="stroke:#181818;stroke-width:0.5;" x1="4332.5" x2="4439.5" y1="168.1058" y2="168.1058"/></g><g id="elem_Chrome"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="117" x="4988.5" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="4995.5" y="162.0039">:ChromeDocker</text><line style="stroke:#181818;stroke-width:0.5;" x1="4989.5" x2="5104.5" y1="168.1058" y2="168.1058"/></g><g id="elem_FileStorage"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="93" x="2581.5" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2588.5" y="162.0039">:FileStorage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2582.5" x2="2673.5" y1="168.1058" y2="168.1058"/></g><g id="elem_DBMaster"><rect fill="#F1F1F1" height="58.1358" style="stroke:#181818;stroke-width:0.5;" width="111" x="7242.5" y="135.5079"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="7264.5" y="152.4739">:Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="7249.5" y="171.5418">MySQL Master</text><line style="stroke:#181818;stroke-width:0.5;" x1="7243.5" x2="7352.5" y1="177.6438" y2="177.6438"/></g><g id="elem_Cache"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="96" x="8098" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="8105" y="162.0039">:RedisCache</text><line style="stroke:#181818;stroke-width:0.5;" x1="8099" x2="8193" y1="168.1058" y2="168.1058"/></g><g id="elem_Queue"><rect fill="#F1F1F1" height="39.0679" style="stroke:#181818;stroke-width:0.5;" width="111" x="6278.5" y="145.0379"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="6285.5" y="162.0039">:QueueService</text><line style="stroke:#181818;stroke-width:0.5;" x1="6279.5" x2="6388.5" y1="168.1058" y2="168.1058"/></g><g id="elem_GMN23"><path d="M6432.5,124.1679 L6432.5,160.5779 L6389.79,164.5779 L6432.5,168.5779 L6432.5,204.992 A0,0 0 0 0 6432.5,204.992 L6621.5,204.992 A0,0 0 0 0 6621.5,204.992 L6621.5,134.1679 L6611.5,124.1679 L6432.5,124.1679 A0,0 0 0 0 6432.5,124.1679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6611.5,124.1679 L6611.5,134.1679 L6621.5,134.1679 L6611.5,124.1679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="6438.5" y="143.0649">Adiciona job na fila:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="6438.5" y="160.7709">- Processamento ass&#237;ncrono</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="6438.5" y="178.477">- Retry autom&#225;tico (3x)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="6438.5" y="196.183">- Timeout: 5min por cap&#237;tulo</text></g><g id="elem_GMN29"><path d="M112,133.0179 L112,196.136 L330,196.136 L330,143.0179 L320,133.0179 L112,133.0179 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M320,133.0179 L320,143.0179 L330,143.0179 L320,133.0179 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="118" y="151.9149">Resposta ass&#237;ncrona:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="118" y="169.6209">Cliente pode consultar status via:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="118" y="187.327">GET /admin/jobs/:jobId</text></g><g id="elem_GMN41"><path d="M373,124.1679 L373,204.992 L591,204.992 L591,134.1679 L581,124.1679 L373,124.1679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M581,124.1679 L581,134.1679 L591,134.1679 L581,124.1679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="379" y="143.0649">Selectors espec&#237;ficos por website:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="379" y="160.7709">- chapterListSelector</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="379" y="178.477">- chapterTitleSelector</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="379" y="196.183">- chapterUrlSelector</text></g><g id="elem_GMN45"><path d="M886,141.8679 L886,187.2799 L1120,187.2799 L1120,151.8679 L1110,141.8679 L886,141.8679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1110,141.8679 L1110,151.8679 L1120,151.8679 L1110,141.8679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="892" y="160.7649">Para cada cap&#237;tulo encontrado:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="892" y="178.4709">Loop de processamento ass&#237;ncrono</text></g><g id="elem_GMN53"><path d="M5148.5,133.0179 L5148.5,196.136 L5347.5,196.136 L5347.5,143.0179 L5337.5,133.0179 L5148.5,133.0179 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M5337.5,133.0179 L5337.5,143.0179 L5347.5,143.0179 L5337.5,133.0179 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="5154.5" y="151.9149">Para cada imageUrl:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="5154.5" y="169.6209">3.1.11.1: httpGet(imageUrl)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="5154.5" y="187.327">3.1.11.2: imageBuffer recebido</text></g><g id="elem_GMN61"><path d="M1163.5,141.8679 L1163.5,187.2799 A0,0 0 0 0 1163.5,187.2799 L1374.5,187.2799 A0,0 0 0 0 1374.5,187.2799 L1374.5,168.5779 L1417.58,164.5779 L1374.5,160.5779 L1374.5,151.8679 L1364.5,141.8679 L1163.5,141.8679 A0,0 0 0 0 1163.5,141.8679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1364.5,141.8679 L1364.5,151.8679 L1374.5,151.8679 L1364.5,141.8679 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1169.5" y="160.7649">Para cada imagem:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1169.5" y="178.4709">Loop de salvamento de p&#225;ginas</text></g><g id="elem_GMN84"><path d="M6202,265.9879 L6202,1161.2887 A0,0 0 0 0 6202,1161.2887 L6466,1161.2887 A0,0 0 0 0 6466,1161.2887 L6466,275.9879 L6456,265.9879 L6338,265.9879 L6334,184.4079 L6330,265.9879 L6202,265.9879 A0,0 0 0 0 6202,265.9879 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M6456,265.9879 L6456,275.9879 L6466,275.9879 L6456,265.9879 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="220" x="6208" y="284.8849">Fluxo UC-47: Scraping de Cap&#237;tulos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="6208" y="302.5909">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="6208" y="320.297">Fase 1: Enfileiramento (S&#237;ncrono)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="6208" y="338.003">1. Admin solicita scraping de livro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="6208" y="355.709">2. Valida livro e configura&#231;&#227;o do website</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="6208" y="373.415">3. Adiciona job na fila de processamento</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="6208" y="391.121">4. Retorna 202 Accepted com jobId</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="6208" y="408.827">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="232" x="6208" y="426.5331">Fase 2: Processamento (Ass&#237;ncrono)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="6208" y="444.2391">5. Worker processa job da fila</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="6208" y="461.9451">6. Cria sess&#227;o no Selenium Grid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="6208" y="479.6511">7. Navega para p&#225;gina do livro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="6208" y="497.3571">8. Extrai lista de cap&#237;tulos (selectors)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="6208" y="515.0631">9. Para cada cap&#237;tulo:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="6217" y="532.7692">a. Navega para p&#225;gina do cap&#237;tulo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="6217" y="550.4752">b. Extrai URLs das imagens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="6217" y="568.1812">c. Baixa todas as imagens</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="6217" y="585.8872">d. Cria/atualiza registro do cap&#237;tulo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="6217" y="603.5932">e. Salva cada p&#225;gina no filesystem</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="6217" y="621.2992">f. Registra p&#225;ginas no banco</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="6217" y="639.0053">g. Invalida cache do cap&#237;tulo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="6208" y="656.7113">10. Fecha sess&#227;o Selenium</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="6208" y="674.4173">11. Atualiza lastScrapedAt do livro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="6208" y="692.1233">12. Invalida cache do livro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="6208" y="709.8293">13. Marca job como completo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="6208" y="727.5353">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="99" x="6208" y="745.2414">Retry Strategy:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="6208" y="762.9474">- 3 tentativas autom&#225;ticas</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="6208" y="780.6534">- Backoff exponencial: 1s, 5s, 15s</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="6208" y="798.3594">- Timeout: 5min por cap&#237;tulo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="6208" y="816.0654">- Erros logados para an&#225;lise</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="6208" y="833.7714">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="172" x="6208" y="851.4775">Configura&#231;&#227;o por Website:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="6208" y="869.1835">- website.selectors.chapterList</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="6208" y="886.8895">- website.selectors.chapterTitle</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="6208" y="904.5955">- website.selectors.chapterUrl</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="6208" y="922.3015">- website.selectors.pageImages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="6208" y="940.0075">- website.baseUrl</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="6208" y="957.7136">- website.waitTime (delay entre requests)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="6208" y="975.4196">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145" x="6208" y="993.1256">Estrutura de Arquivos:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="6208" y="1010.8316">/data/pages/{bookId}/{chapterId}/</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="6214" y="1028.5376">- 1.jpg, 2.jpg, 3.jpg, ...</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="6208" y="1046.2436">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="85" x="6208" y="1063.9497">Otimiza&#231;&#245;es:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="6208" y="1081.6557">- Processamento ass&#237;ncrono</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="6208" y="1099.3617">- Download paralelo de imagens (max 5)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="6208" y="1117.0677">- Container Selenium reutilizado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="6208" y="1134.7737">- Cleanup autom&#225;tico de containers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="6208" y="1152.4797">- Rate limiting por website</text></g><!--link Client to Controller--><g id="link_Client_Controller"><path codeLine="22" d="M69.44,136.2979 C75.89,131.6379 82.89,127.3079 90,124.1679 C213.15,69.6379 254.33,83.6179 388.5,71.9779 C452.04,66.4679 617.23,46.0679 675.5,71.9779 C708.93,86.8479 731.5049,117.3039 745.0949,139.7739 " fill="none" id="Client-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="748.2,144.9079,746.965,135.1368,745.6124,140.6296,740.1197,139.2769,748.2,144.9079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="389.5" y="72.0649">1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="403.5" y="72.0649">POST /admin/books/:bookId/scrape-chapters</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="429.5" y="89.7709">Authorization: Bearer adminToken</text></g><!--link Controller to Client--><g id="link_Controller_Client"><path codeLine="41" d="M748.2,144.9079 C734.61,122.4379 708.93,86.8479 675.5,71.9779 C617.23,46.0679 452.04,66.4679 388.5,71.9779 C254.33,83.6179 213.15,69.6379 90,124.1679 C82.89,127.3079 80.7535,128.1241 74.3035,132.7841 " fill="none" id="Controller-to-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="69.44,136.2979,79.0777,134.2696,73.4929,133.3698,74.3927,127.7849,69.44,136.2979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="375.5" y="81.0649">2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299" x="389.5" y="81.0649">202 Accepted {jobId, message: "Scraping iniciado"}</text></g><!--link Controller to ScrapingService--><g id="link_Controller_ScrapingService"><path codeLine="24" d="M782.81,144.7279 C809.17,124.1679 853.87,93.3279 898.5,80.9779 C1005.45,51.3879 1288.18,97.9079 1396,124.1679 C1417.29,129.3479 1434.5392,135.0422 1454.0192,142.4222 " fill="none" id="Controller-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1459.63,144.5479,1452.6309,137.6189,1454.9543,142.7765,1449.7966,145.1,1459.63,144.5479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="899.5" y="81.0649">1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="924.5" y="81.0649">scrapeChapters(bookId)</text></g><!--link ScrapingService to Controller--><g id="link_ScrapingService_Controller"><path codeLine="40" d="M1459.63,144.5479 C1440.15,137.1679 1417.29,129.3479 1396,124.1679 C1288.18,97.9079 1005.45,51.3879 898.5,80.9779 C853.87,93.3279 813.9011,120.4778 787.5411,141.0378 " fill="none" id="ScrapingService-to-Controller" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="782.81,144.7279,792.3667,142.3468,786.7526,141.6528,787.4466,136.0387,782.81,144.7279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="898.5" y="81.0649">1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="923.5" y="81.0649">{jobId, status: "queued"}</text></g><!--link ScrapingService to BookRepo--><g id="link_ScrapingService_BookRepo"><path codeLine="26" d="M1521.9,144.8979 C1537.67,124.4779 1565.45,93.7679 1598,80.9779 C1659.64,56.7679 1829.78,80.6779 1896,80.9779 C2159.73,82.1779 6386.42,63.1379 6643,124.1679 C6660.45,128.3079 6673.2082,133.7845 6687.8982,141.8345 " fill="none" id="ScrapingService-to-BookRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="6693.16,144.7179,6687.1896,136.885,6688.7752,142.3151,6683.3451,143.9007,6693.16,144.7179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1599" y="81.0649">1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1635" y="81.0649">findOne({id: bookId}, {relations: ['website']})</text></g><!--link BookRepo to ScrapingService--><g id="link_BookRepo_ScrapingService"><path codeLine="29" d="M6693.16,144.7179 C6678.47,136.6679 6660.45,128.3079 6643,124.1679 C6386.42,63.1379 2159.73,82.1779 1896,80.9779 C1829.78,80.6779 1659.64,56.7679 1598,80.9779 C1565.45,93.7679 1541.3374,119.7292 1525.5674,140.1492 " fill="none" id="BookRepo-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1521.9,144.8979,1530.5669,140.2197,1524.9561,140.9406,1524.2352,135.3299,1521.9,144.8979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1713.5" y="81.0649">1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1749.5" y="81.0649">book</text></g><!--link ScrapingService to BookRepo--><g id="link_ScrapingService_BookRepo"><path codeLine="123" d="M1521.9,144.8979 C1537.67,124.4779 1565.45,93.7679 1598,80.9779 C1659.64,56.7679 1829.78,80.6779 1896,80.9779 C2159.73,82.1779 6386.42,63.1379 6643,124.1679 C6660.45,128.3079 6673.2082,133.7845 6687.8982,141.8345 " fill="none" id="ScrapingService-to-BookRepo-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="6693.16,144.7179,6687.1896,136.885,6688.7752,142.3151,6683.3451,143.9007,6693.16,144.7179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1615.5" y="81.0649">3.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="1640.5" y="81.0649">update(bookId, {lastScrapedAt: NOW()})</text></g><!--link BookRepo to ScrapingService--><g id="link_BookRepo_ScrapingService"><path codeLine="126" d="M6693.16,144.7179 C6678.47,136.6679 6660.45,128.3079 6643,124.1679 C6386.42,63.1379 2159.73,82.1779 1896,80.9779 C1829.78,80.6779 1659.64,56.7679 1598,80.9779 C1565.45,93.7679 1541.3374,119.7292 1525.5674,140.1492 " fill="none" id="BookRepo-to-ScrapingService-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1521.9,144.8979,1530.5669,140.2197,1524.9561,140.9406,1524.2352,135.3299,1521.9,144.8979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1719" y="81.0649">3.4:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1744" y="81.0649">book</text></g><!--link BookRepo to DBMaster--><g id="link_BookRepo_DBMaster"><path codeLine="27" d="M6785.78,164.5779 C6897.53,164.5779 7128.07,164.5779 7236.08,164.5779 " fill="none" id="BookRepo-to-DBMaster" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7242.08,164.5779,7233.08,160.5779,7237.08,164.5779,7233.08,168.5779,7242.08,164.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="6808" y="157.4749">1.1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365" x="6855" y="157.4749">SELECT b.*, w.* FROM books b JOIN websites w WHERE b.id=?</text></g><!--link DBMaster to BookRepo--><g id="link_DBMaster_BookRepo"><path codeLine="28" d="M7242.04,146.6379 C7235.02,144.9679 7227.88,143.5379 7221,142.5779 C7175.44,136.1979 6852.61,136.5679 6807,142.5779 C6800.13,143.4779 6798.881,143.514 6791.851,145.054 " fill="none" id="DBMaster-to-BookRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="6785.99,146.3379,6795.6375,148.3194,6790.8742,145.268,6793.9256,140.5047,6785.99,146.3379" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="6902" y="132.4749">1.1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="6949" y="132.4749">bookData with website config</text></g><!--link BookRepo to DBMaster--><g id="link_BookRepo_DBMaster"><path codeLine="124" d="M6785.75,179.4679 C6800.32,182.4179 6815.89,185.0679 6830.5,186.5779 C6871.06,190.7579 7156.96,190.9579 7197.5,186.5779 C7212.06,184.9979 7221.7452,183.4445 7236.1452,180.3345 " fill="none" id="BookRepo-to-DBMaster-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7242.01,179.0679,7232.3684,177.058,7237.1227,180.1234,7234.0572,184.8777,7242.01,179.0679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="6831.5" y="182.4749">3.3.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329" x="6867.5" y="182.4749">UPDATE books SET last_scraped_at=NOW() WHERE id=?</text></g><!--link DBMaster to BookRepo--><g id="link_DBMaster_BookRepo"><path codeLine="125" d="M7246.08,194.1079 C7230.9,201.2679 7213.95,207.9179 7197.5,211.5779 C7177.6,215.9979 6850.44,215.8179 6830.5,211.5779 C6805.79,206.3179 6785.1736,197.5962 6765.2036,187.3062 " fill="none" id="DBMaster-to-BookRepo-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="6759.87,184.5579,6766.0382,192.236,6764.3147,186.8481,6769.7025,185.1246,6759.87,184.5579" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="6970.5" y="207.4749">3.3.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="7006.5" y="207.4749">updated</text></g><!--link ScrapingService to Queue--><g id="link_ScrapingService_Queue"><path codeLine="31" d="M1598.09,155.9279 C1703.63,146.2079 1883.82,130.9179 2039,124.1679 C3780.79,48.3779 4218.09,90.5779 5961.5,80.9779 C5996.72,80.7879 6247.46,64.3279 6278.5,80.9779 C6303.52,94.4079 6316.9521,119.0569 6325.0221,139.2369 " fill="none" id="ScrapingService-to-Queue" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="6327.25,144.8079,6327.6222,134.9661,6325.3934,140.1654,6320.1942,137.9366,6327.25,144.8079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="5962.5" y="81.0649">1.1.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="5998.5" y="81.0649">add("scraping-queue", {bookId, url, websiteId})</text></g><!--link Queue to ScrapingService--><g id="link_Queue_ScrapingService"><path codeLine="38" d="M6327.25,144.8079 C6319.18,124.6279 6303.52,94.4079 6278.5,80.9779 C6247.46,64.3279 5996.72,80.7879 5961.5,80.9779 C4218.09,90.5779 3780.79,48.3779 2039,124.1679 C1883.82,130.9179 1709.6047,145.6577 1604.0647,155.3777 " fill="none" id="Queue-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.09,155.9279,1607.4189,159.0857,1603.0689,155.4694,1606.6852,151.1194,1598.09,155.9279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="6086.5" y="81.0649">1.1.4:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="6122.5" y="81.0649">jobId</text></g><!--link Queue to ScrapingService--><g id="link_Queue_ScrapingService"><path codeLine="51" d="M6327.25,144.8079 C6319.18,124.6279 6303.52,94.4079 6278.5,80.9779 C6247.46,64.3279 5996.72,80.7879 5961.5,80.9779 C4218.09,90.5779 3780.79,48.3779 2039,124.1679 C1883.82,130.9179 1709.6047,145.6577 1604.0647,155.3777 " fill="none" id="Queue-to-ScrapingService-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.09,155.9279,1607.4189,159.0857,1603.0689,155.4694,1606.6852,151.1194,1598.09,155.9279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="11" x="6052.5" y="81.0649">3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="6066.5" y="81.0649">processJob(jobData)</text></g><!--link ScrapingService to Queue--><g id="link_ScrapingService_Queue"><path codeLine="131" d="M1598.09,155.9279 C1703.63,146.2079 1883.82,130.9179 2039,124.1679 C3780.79,48.3779 4218.09,90.5779 5961.5,80.9779 C5996.72,80.7879 6247.46,64.3279 6278.5,80.9779 C6303.52,94.4079 6316.9521,119.0569 6325.0221,139.2369 " fill="none" id="ScrapingService-to-Queue-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="6327.25,144.8079,6327.6222,134.9661,6325.3934,140.1654,6320.1942,137.9366,6327.25,144.8079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="5959" y="81.0649">3.7:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="5984" y="81.0649">jobCompleted({totalChapters, totalPages, errors})</text></g><!--link Client to GMN29--><g id="link_Client_GMN29"><path d="M69.45,164.5779 C83.56,164.5779 97.67,164.5779 111.78,164.5779 " fill="none" id="Client-GMN29" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link ScrapingService to SeleniumService--><g id="link_ScrapingService_SeleniumService"><path codeLine="53" d="M1579.71,144.5779 C1657.94,123.8879 1787.23,92.9479 1901,80.9779 C2174.36,52.2279 3031.4295,133.5434 3272.7695,157.5734 " fill="none" id="ScrapingService-to-SeleniumService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3278.74,158.1679,3270.1806,153.2959,3273.7646,157.6725,3269.388,161.2565,3278.74,158.1679" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1902" y="81.0649">3.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1927" y="81.0649">scrape(url, websiteId)</text></g><!--link SeleniumService to ScrapingService--><g id="link_SeleniumService_ScrapingService"><path codeLine="91" d="M3278.74,158.1679 C3037.4,134.1379 2174.36,52.2279 1901,80.9779 C1787.23,92.9479 1663.7406,122.3538 1585.5106,143.0438 " fill="none" id="SeleniumService-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1579.71,144.5779,1589.4336,146.1438,1584.5438,143.2995,1587.3881,138.4097,1579.71,144.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="1884.5" y="81.0649">3.1.12:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1927.5" y="81.0649">{title, number, images[]}</text></g><!--link SeleniumService to ScrapingService--><g id="link_SeleniumService_ScrapingService"><path codeLine="121" d="M3278.74,158.1679 C3037.4,134.1379 2174.36,52.2279 1901,80.9779 C1787.23,92.9479 1663.7406,122.3538 1585.5106,143.0438 " fill="none" id="SeleniumService-to-ScrapingService-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1579.71,144.5779,1589.4336,146.1438,1584.5438,143.2995,1587.3881,138.4097,1579.71,144.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1859.5" y="81.0649">3.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1884.5" y="81.0649">{totalChapters, totalPages, errors[]}</text></g><!--link SeleniumService to SeleniumHub--><g id="link_SeleniumService_SeleniumHub"><path codeLine="55" d="M3405.35,164.5779 C3594.54,164.5779 4147.31,164.5779 4325.05,164.5779 " fill="none" id="SeleniumService-to-SeleniumHub" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4331.05,164.5779,4322.05,160.5779,4326.05,164.5779,4322.05,168.5779,4331.05,164.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3722.25" y="157.4749">3.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="3758.25" y="157.4749">requestSession({browserName: "chrome"})</text></g><!--link SeleniumHub to SeleniumService--><g id="link_SeleniumHub_SeleniumService"><path codeLine="58" d="M4331.08,160.2979 C4258.75,154.8979 4127.56,145.9079 4015.25,142.5779 C3884.64,138.7079 3851.86,138.7879 3721.25,142.5779 C3610,145.7979 3486.6143,153.8946 3411.3443,159.3446 " fill="none" id="SeleniumHub-to-SeleniumService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3405.36,159.7779,3414.6254,163.1175,3410.3469,159.4168,3414.0476,155.1384,3405.36,159.7779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3828.25" y="132.4749">3.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="3864.25" y="132.4749">session</text></g><!--link SeleniumService to SeleniumHub--><g id="link_SeleniumService_SeleniumHub"><path codeLine="118" d="M3405.18,169.3879 C3517.05,177.3279 3757.33,191.8179 3960.25,186.5779 C4093.61,183.1279 4244.2529,174.021 4325.2729,168.701 " fill="none" id="SeleniumService-to-SeleniumHub-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4331.26,168.3079,4322.0173,164.9062,4326.2707,168.6355,4322.5414,172.889,4331.26,168.3079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="3777.25" y="182.4749">3.1.21:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="3820.25" y="182.4749">closeSession(sessionId)</text></g><!--link SeleniumHub to Chrome--><g id="link_SeleniumHub_Chrome"><path codeLine="56" d="M4440.97,170.7579 C4491.96,176.1679 4569.99,183.6079 4638,186.5779 C4705.94,189.5379 4723.06,189.4879 4791,186.5779 C4858.74,183.6679 4930.3221,177.0774 4982.1521,171.6974 " fill="none" id="SeleniumHub-to-Chrome" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4988.12,171.0779,4978.7551,168.0285,4983.1467,171.5941,4979.5811,175.9858,4988.12,171.0779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="4639" y="182.4749">3.1.1.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="4686" y="182.4749">createContainer()</text></g><!--link Chrome to SeleniumHub--><g id="link_Chrome_SeleniumHub"><path codeLine="57" d="M4988.47,157.9079 C4938.28,152.5479 4863.99,145.4479 4799,142.5779 C4723.96,139.2579 4705.04,139.1979 4630,142.5779 C4564.78,145.5079 4496.0146,152.187 4446.6246,157.577 " fill="none" id="Chrome-to-SeleniumHub" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4440.66,158.2279,4450.0408,161.2279,4445.6305,157.6855,4449.1729,153.2751,4440.66,158.2279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="44" x="4663" y="132.4749">3.1.1.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="4710" y="132.4749">sessionId</text></g><!--link SeleniumHub to Chrome--><g id="link_SeleniumHub_Chrome"><path codeLine="119" d="M4440.94,164.5779 C4564.08,164.5779 4855.32,164.5779 4982.1,164.5779 " fill="none" id="SeleniumHub-to-Chrome-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4988.1,164.5779,4979.1,160.5779,4983.1,164.5779,4979.1,168.5779,4988.1,164.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="4631" y="157.4749">3.1.21.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="4685" y="157.4749">destroyContainer()</text></g><!--link SeleniumService to Chrome--><g id="link_SeleniumService_Chrome"><path codeLine="60" d="M3350.41,144.7279 C3360.2,124.4779 3378.49,94.1979 3405,80.9779 C3463.87,51.6379 3487.24,79.4179 3553,80.9779 C3957.34,90.5779 4058.23,100.6279 4462,124.1679 C4654.59,135.3879 4876.627,151.6869 4982.087,159.6369 " fill="none" id="SeleniumService-to-Chrome" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4988.07,160.0879,4979.3961,155.4227,4983.0841,159.7121,4978.7948,163.4001,4988.07,160.0879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3406" y="81.0649">3.1.3:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="3442" y="81.0649">navigate(book.url)</text></g><!--link Chrome to SeleniumService--><g id="link_Chrome_SeleniumService"><path codeLine="61" d="M4988.07,160.0879 C4882.61,152.1379 4654.59,135.3879 4462,124.1679 C4058.23,100.6279 3957.34,90.5779 3553,80.9779 C3487.24,79.4179 3463.87,51.6379 3405,80.9779 C3378.49,94.1979 3362.8116,119.0761 3353.0216,139.3261 " fill="none" id="Chrome-to-SeleniumService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3350.41,144.7279,3357.9286,138.3662,3352.5863,140.2264,3350.7261,134.8841,3350.41,144.7279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3424" y="81.0649">3.1.4:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="3460" y="81.0649">page loaded</text></g><!--link SeleniumService to Chrome--><g id="link_SeleniumService_Chrome"><path codeLine="63" d="M3350.41,144.7279 C3360.2,124.4779 3378.49,94.1979 3405,80.9779 C3463.87,51.6379 3487.24,79.4179 3553,80.9779 C3957.34,90.5779 4058.23,100.6279 4462,124.1679 C4654.59,135.3879 4876.627,151.6869 4982.087,159.6369 " fill="none" id="SeleniumService-to-Chrome-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4988.07,160.0879,4979.3961,155.4227,4983.0841,159.7121,4978.7948,163.4001,4988.07,160.0879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3330.5" y="81.0649">3.1.5:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="3366.5" y="81.0649">executeScript(website.selectors.chapterList)</text></g><!--link Chrome to SeleniumService--><g id="link_Chrome_SeleniumService"><path codeLine="70" d="M4988.07,160.0879 C4882.61,152.1379 4654.59,135.3879 4462,124.1679 C4058.23,100.6279 3957.34,90.5779 3553,80.9779 C3487.24,79.4179 3463.87,51.6379 3405,80.9779 C3378.49,94.1979 3362.8116,119.0761 3353.0216,139.3261 " fill="none" id="Chrome-to-SeleniumService-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3350.41,144.7279,3357.9286,138.3662,3352.5863,140.2264,3350.7261,134.8841,3350.41,144.7279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3417" y="81.0649">3.1.6:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="3453" y="81.0649">chaptersData[]</text></g><!--link SeleniumService to Chrome--><g id="link_SeleniumService_Chrome"><path codeLine="77" d="M3350.41,144.7279 C3360.2,124.4779 3378.49,94.1979 3405,80.9779 C3463.87,51.6379 3487.24,79.4179 3553,80.9779 C3957.34,90.5779 4058.23,100.6279 4462,124.1679 C4654.59,135.3879 4876.627,151.6869 4982.087,159.6369 " fill="none" id="SeleniumService-to-Chrome-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4988.07,160.0879,4979.3961,155.4227,4983.0841,159.7121,4978.7948,163.4001,4988.07,160.0879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3398.5" y="81.0649">3.1.7:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="3434.5" y="81.0649">navigate(chapter.url)</text></g><!--link Chrome to SeleniumService--><g id="link_Chrome_SeleniumService"><path codeLine="78" d="M4988.07,160.0879 C4882.61,152.1379 4654.59,135.3879 4462,124.1679 C4058.23,100.6279 3957.34,90.5779 3553,80.9779 C3487.24,79.4179 3463.87,51.6379 3405,80.9779 C3378.49,94.1979 3362.8116,119.0761 3353.0216,139.3261 " fill="none" id="Chrome-to-SeleniumService-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3350.41,144.7279,3357.9286,138.3662,3352.5863,140.2264,3350.7261,134.8841,3350.41,144.7279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3399.5" y="81.0649">3.1.8:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="3435.5" y="81.0649">chapter page loaded</text></g><!--link SeleniumService to Chrome--><g id="link_SeleniumService_Chrome"><path codeLine="80" d="M3350.41,144.7279 C3360.2,124.4779 3378.49,94.1979 3405,80.9779 C3463.87,51.6379 3487.24,79.4179 3553,80.9779 C3957.34,90.5779 4058.23,100.6279 4462,124.1679 C4654.59,135.3879 4876.627,151.6869 4982.087,159.6369 " fill="none" id="SeleniumService-to-Chrome-3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="4988.07,160.0879,4979.3961,155.4227,4983.0841,159.7121,4978.7948,163.4001,4988.07,160.0879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="3327" y="81.0649">3.1.9:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="3363" y="81.0649">executeScript(website.selectors.pageImages)</text></g><!--link Chrome to SeleniumService--><g id="link_Chrome_SeleniumService"><path codeLine="81" d="M4988.07,160.0879 C4882.61,152.1379 4654.59,135.3879 4462,124.1679 C4058.23,100.6279 3957.34,90.5779 3553,80.9779 C3487.24,79.4179 3463.87,51.6379 3405,80.9779 C3378.49,94.1979 3362.8116,119.0761 3353.0216,139.3261 " fill="none" id="Chrome-to-SeleniumService-3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3350.41,144.7279,3357.9286,138.3662,3352.5863,140.2264,3350.7261,134.8841,3350.41,144.7279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="3423" y="81.0649">3.1.10:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="3466" y="81.0649">imageUrls[]</text></g><!--link GMN29 to GMN41--><g id="link_GMN29_GMN41"><path d="M330.34,164.5779 C344.46,164.5779 358.58,164.5779 372.7,164.5779 " fill="none" id="GMN29-GMN41" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link GMN45 to SeleniumService--><g id="link_GMN45_SeleniumService"><path d="M1055.7,141.4079 C1086.48,129.1479 1126.43,115.3779 1163.5,109.1679 C1329.08,81.3879 2506.76,102.2079 2674.5,109.1679 C2896.99,118.3779 3160.13,144.8179 3278.6,157.5479 " fill="none" id="GMN45-SeleniumService" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link SeleniumService to SeleniumService--><g id="link_SeleniumService_SeleniumService"><path codeLine="83" d="M3405.38,151.3079 C3428.78,150.9079 3448,155.3279 3448,164.5779 C3448,173.8179 3434.7791,178.3505 3411.3791,177.9505 " fill="none" id="SeleniumService-to-SeleniumService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="3405.38,177.8479,3414.3103,182.0012,3410.3793,177.9334,3414.4471,174.0023,3405.38,177.8479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="3454" y="169.9749">3.1.11:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="3497" y="169.9749">downloadImages(imageUrls[])</text></g><!--link SeleniumService to GMN53--><g id="link_SeleniumService_GMN53"><path d="M3405.33,159.7979 C3562.17,148.2279 3981.29,118.9579 4331.5,109.1679 C4417.47,106.7579 5020.97,93.3079 5105.5,109.1679 C5130.94,113.9379 5157.67,123.1079 5181.02,132.6379 " fill="none" id="SeleniumService-GMN53" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--link ScrapingService to ChapterRepo--><g id="link_ScrapingService_ChapterRepo"><path codeLine="93" d="M1598.09,155.9479 C1703.64,146.2479 1883.83,130.9679 2039,124.1679 C2908.77,86.0079 5085.99,67.7379 5956.5,80.9779 C6587.16,90.5779 6745.51,84.5579 7375,124.1679 C7498.69,131.9479 7636.2469,146.2531 7720.2969,155.6231 " fill="none" id="ScrapingService-to-ChapterRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7726.26,156.2879,7717.7586,151.3154,7721.2908,155.7339,7716.8722,159.2661,7726.26,156.2879" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="5720.5" y="81.0649">3.1.13:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="5763.5" y="81.0649">findOrCreate({bookId, number})</text></g><!--link ChapterRepo to ScrapingService--><g id="link_ChapterRepo_ScrapingService"><path codeLine="96" d="M7726.26,156.2879 C7642.21,146.9179 7498.69,131.9479 7375,124.1679 C6745.51,84.5579 6587.16,90.5779 5956.5,80.9779 C5085.99,67.7379 2908.77,86.0079 2039,124.1679 C1883.83,130.9679 1709.6148,145.6988 1604.0648,155.3988 " fill="none" id="ChapterRepo-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.09,155.9479,1607.4183,159.1075,1603.069,155.4903,1606.6862,151.1411,1598.09,155.9479" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="5793.5" y="81.0649">3.1.14:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="5836.5" y="81.0649">chapter</text></g><!--link ChapterRepo to DBMaster--><g id="link_ChapterRepo_DBMaster"><path codeLine="94" d="M7726.4,164.5779 C7625.9,164.5779 7451.13,164.5779 7359.9,164.5779 " fill="none" id="ChapterRepo-to-DBMaster" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7353.9,164.5779,7362.9,168.5779,7358.9,164.5779,7362.9,160.5779,7353.9,164.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="7376" y="139.4749">3.1.13.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="7430" y="139.4749">INSERT INTO chapters (book_id, title, number)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="7436.5" y="157.1809">ON DUPLICATE KEY UPDATE title=?</text></g><!--link DBMaster to ChapterRepo--><g id="link_DBMaster_ChapterRepo"><path codeLine="95" d="M7353.85,172.7179 C7391.86,177.8379 7443.35,183.9579 7489,186.5779 C7570.35,191.2479 7657.6756,183.416 7720.2756,175.656 " fill="none" id="DBMaster-to-ChapterRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7726.23,174.9179,7716.8063,172.0555,7721.268,175.533,7717.7904,179.9947,7726.23,174.9179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="7490" y="182.4749">3.1.13.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="7544" y="182.4749">chapter</text></g><!--link ScrapingService to FilesService--><g id="link_ScrapingService_FilesService"><path codeLine="103" d="M1598.48,164.5779 C1727.46,164.5779 1953.66,164.5779 2053.84,164.5779 " fill="none" id="ScrapingService-to-FilesService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2059.84,164.5779,2050.84,160.5779,2054.84,164.5779,2050.84,168.5779,2059.84,164.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="1620" y="157.4749">3.1.15:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="1663" y="157.4749">savePageImage(bookId, chapterId, pageNumber, imageBuffer)</text></g><!--link FilesService to ScrapingService--><g id="link_FilesService_ScrapingService"><path codeLine="108" d="M2059.6,170.7079 C2014.3,176.1279 1944.69,183.5979 1884,186.5779 C1786.36,191.3579 1680.4993,183.6539 1604.3493,175.9239 " fill="none" id="FilesService-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.38,175.3179,1606.93,180.2064,1603.3544,175.8229,1607.738,172.2473,1598.38,175.3179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="1775" y="182.4749">3.1.16:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1818" y="182.4749">imagePath</text></g><!--link FilesService to FileStorage--><g id="link_FilesService_FileStorage"><path codeLine="105" d="M2156.45,164.5779 C2256.17,164.5779 2477.2,164.5779 2575.36,164.5779 " fill="none" id="FilesService-to-FileStorage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2581.36,164.5779,2572.36,160.5779,2576.36,164.5779,2572.36,168.5779,2581.36,164.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="2178.25" y="157.4749">3.1.15.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="2232.25" y="157.4749">write(/pages/{bookId}/{chapterId}/{pageNumber}.jpg)</text></g><!--link FileStorage to FilesService--><g id="link_FileStorage_FilesService"><path codeLine="106" d="M2581.14,171.2379 C2540.94,176.5979 2481.42,183.6979 2429.25,186.5779 C2375.55,189.5379 2361.95,189.5179 2308.25,186.5779 C2256.22,183.7279 2202.8685,177.5224 2162.3785,172.1824 " fill="none" id="FileStorage-to-FilesService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="2156.43,171.3979,2164.8297,176.5403,2161.3871,172.0517,2165.8757,168.609,2156.43,171.3979" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="2309.25" y="182.4749">3.1.15.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="2363.25" y="182.4749">imagePath</text></g><!--link ScrapingService to PageRepo--><g id="link_ScrapingService_PageRepo"><path codeLine="110" d="M1598.45,146.6179 C1707.48,125.9679 1896.53,93.3179 2060.5,80.9779 C2195.67,70.8179 2229.95,80.4479 2365.5,80.9779 C2672.48,82.1779 7592.3,53.3279 7891,124.1679 C7908.45,128.2979 7921.2082,133.7745 7935.8982,141.8245 " fill="none" id="ScrapingService-to-PageRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7941.16,144.7079,7935.1896,136.875,7936.7752,142.3051,7931.3451,143.8907,7941.16,144.7079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="2061.5" y="81.0649">3.1.17:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="2104.5" y="81.0649">save({chapterId, pageNumber, imagePath})</text></g><!--link PageRepo to ScrapingService--><g id="link_PageRepo_ScrapingService"><path codeLine="113" d="M7941.16,144.7079 C7926.47,136.6579 7908.45,128.2979 7891,124.1679 C7592.3,53.3279 2672.48,82.1779 2365.5,80.9779 C2229.95,80.4479 2195.67,70.8179 2060.5,80.9779 C1896.53,93.3179 1713.3752,124.8514 1604.3452,145.5014 " fill="none" id="PageRepo-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.45,146.6179,1608.0372,148.8732,1603.3627,145.6875,1606.5484,141.013,1598.45,146.6179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="2176.5" y="81.0649">3.1.18:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="2219.5" y="81.0649">page</text></g><!--link PageRepo to DBMaster--><g id="link_PageRepo_DBMaster"><path codeLine="111" d="M7939.4,144.5779 C7924.98,136.9179 7907.64,128.8879 7891,124.1679 C7697.3,69.1579 7641.13,90.5879 7440,80.9779 C7401.82,79.1579 7387.72,62.9879 7354,80.9779 C7332.58,92.4179 7320.436,110.6356 7311.506,129.8756 " fill="none" id="PageRepo-to-DBMaster" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7308.98,135.3179,7316.3972,128.8384,7311.085,130.7826,7309.1408,125.4704,7308.98,135.3179" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="7191.5" y="81.0649">3.1.17.1:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357" x="7245.5" y="81.0649">INSERT INTO pages (chapter_id, page_number, image_path)</text></g><!--link DBMaster to PageRepo--><g id="link_DBMaster_PageRepo"><path codeLine="112" d="M7308.98,135.3179 C7317.91,116.0779 7332.58,92.4179 7354,80.9779 C7387.72,62.9879 7401.82,79.1579 7440,80.9779 C7641.13,90.5879 7697.3,69.1579 7891,124.1679 C7907.64,128.8879 7919.6812,134.1032 7934.1012,141.7632 " fill="none" id="DBMaster-to-PageRepo" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="7939.4,144.5779,7933.3283,136.8233,7934.9843,142.2323,7929.5753,143.8883,7939.4,144.5779" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="7355" y="81.0649">3.1.17.2:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="7409" y="81.0649">page</text></g><!--link ScrapingService to Cache--><g id="link_ScrapingService_Cache"><path codeLine="115" d="M1598.09,155.8279 C1703.63,146.0179 1883.81,130.6379 2039,124.1679 C3332.36,70.2179 6569.53,85.7779 7864,80.9779 C7916,80.7879 8053,54.9279 8098,80.9779 C8121.61,94.6479 8132.8059,119.0756 8139.1459,139.1856 " fill="none" id="ScrapingService-to-Cache" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="8140.95,144.9079,8142.0588,135.1217,8139.4466,140.1393,8134.429,137.5271,8140.95,144.9079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="7865" y="81.0649">3.1.19:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="7908" y="81.0649">del("chapter:" + chapterId + ":*")</text></g><!--link Cache to ScrapingService--><g id="link_Cache_ScrapingService"><path codeLine="116" d="M8140.95,144.9079 C8134.61,124.7979 8121.61,94.6479 8098,80.9779 C8053,54.9279 7916,80.7879 7864,80.9779 C6569.53,85.7779 3332.36,70.2179 2039,124.1679 C1883.81,130.6379 1709.6042,145.4626 1604.0642,155.2726 " fill="none" id="Cache-to-ScrapingService" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.09,155.8279,1607.4216,158.9778,1603.0685,155.3652,1606.6812,151.0121,1598.09,155.8279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="40" x="7950.5" y="81.0649">3.1.20:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="7993.5" y="81.0649">OK</text></g><!--link ScrapingService to Cache--><g id="link_ScrapingService_Cache"><path codeLine="128" d="M1598.09,155.8279 C1703.63,146.0179 1883.81,130.6379 2039,124.1679 C3332.36,70.2179 6569.53,85.7779 7864,80.9779 C7916,80.7879 8053,54.9279 8098,80.9779 C8121.61,94.6479 8132.8059,119.0756 8139.1459,139.1856 " fill="none" id="ScrapingService-to-Cache-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="8140.95,144.9079,8142.0588,135.1217,8139.4466,140.1393,8134.429,137.5271,8140.95,144.9079" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="7889" y="81.0649">3.5:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="7914" y="81.0649">del("book:" + bookId + ":*")</text></g><!--link Cache to ScrapingService--><g id="link_Cache_ScrapingService"><path codeLine="129" d="M8140.95,144.9079 C8134.61,124.7979 8121.61,94.6479 8098,80.9779 C8053,54.9279 7916,80.7879 7864,80.9779 C6569.53,85.7779 3332.36,70.2179 2039,124.1679 C1883.81,130.6379 1709.6042,145.4626 1604.0642,155.2726 " fill="none" id="Cache-to-ScrapingService-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1598.09,155.8279,1607.4216,158.9778,1603.0685,155.3652,1606.6812,151.0121,1598.09,155.8279" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="7959.5" y="81.0649">3.6:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="7984.5" y="81.0649">OK</text></g><!--SRC=[bLZRKXj94dtNLsJenIqDQWmOswC8TaC8sSCCbZGIh6DZF46KkakYJAjBKrNDPGW-OJx2iG_xvCVz0dviisvz4OrWYB2xrPMtoZoPbLcAgOJ24ICBGPO4OWfzlinI5f67_pxyXqC7plgTD- -wC8q4MR5qOKZ8wk6xoX8k6urNC9fzfGfVEJuZ1SrkBrwoz4lQJnXDLHE81FkwHd78-QNiyrG9dYHKMCByPq7Slo0hHOKtO4h55Oke8L_xLl3K4jE4fYnRFYBMXapeYakckBWrjFxJ8olMw4fV2z8nMT0rEl-f8Fh04YhBvfK_b3RYZFufcrKsWR_BjWc-f4SyklHkD1-gogPe35gHwtA_2w8ZeiYCIFeb_NGx_VK4FX6fdBoZG_kZ89xGcCa-YIwiGFDMhFwQqOoMDsS-QB0S71paYEfFUkFZuKSu6a2_Dtxuw_JiP3JL58s61Gnq_b5217IXtTxfjjim7arFOPje46tFD8gsk_fn76zB7NVQYMnOv9UqbwaBBjYVH36UTk6G4e6I3EiflwGfgYeKeBeru5YTeT5gPRk8oy1gR3KQwomenSF7iri1SvR6evG6TopkWcM_tu8xGHDZdUp2Rw-kwGnXGr_zVjzgv59Geez08T7Ad0vE1lrJc8NjBRWEs_1XClfaP4kOmS-Zuo4uYHAkuVDFWya0QLbyyCz6Bh5JQt2ugyLhIHeNSCtKXHS54K_dR56oxsd75M9g7MLmaTFkQLeInq5JEjBE7vgWYLwo_jg2J2HRtX3qNwkHShH8iCM5QW3-zM8MeJC9VEKpmCUS9QHhLZem5ZoYKf8bOeiZBEN3zpGIFELkVKALk0MIARvy-APOn27OkscvnLEsf3nJNTX7xC2A2uXy6MpGD0PjHyFkPvC_tkWzect7SOr3Ql1k7NXdEBP0Ag8o14hJ-2LktbVWgzbjucXMmxZxUXTwKKGHit4kPQcTiA0e9g_g34i-8p57YIMF0f_xsgsTCA4IgngYeN2TywqbekYMsC13PeaYmfaBLyoHVHpaUOkcODfQH-JkSmLYF1dr1zDfxzDWU3g2tdJwyDUmFnaDHxOuE2VN-zXWQ6K3_JEV1QX10xW-JzUE12kWdEr15MvQoXfBIGhMP2_1oX0KmoJL54r1I0PtCy6l9HL3123wFZ95keaGBWlGCJGBXIWhB1AKAAh3JLXAHT1gEBhEKoPOw4Yh7TrSKVFqxYjijHjUCz2uF2LNR846cheOejjgxLjNPR9XXLY4X9EOnYzHjwzvw0sDCaKnfcob0XUWK29pXEUQ3Dq9SCAaUbGYffuA4CyqUlW-nrIN9gMT85ymIb8yKtNbLBTFzKjd8iaNSe2_m2LlJR3TAQEX-zllBYKJEZSPkTx8QBLZ8WWMf9WKLGbe6kdYW5bjztF2-KgtRwidos2HYC-7uLqbwixW5mV-VMcNVnS0Fxu405hcyHB_ao-oP-Ur5ieq0mPEQfzloFH7t2P3OtwTwbrOjK59M6kzg6uEeUUqORCAi0Z0XLAhZrJbablbzTskvJlCvdFqgQ0HdR5uOqoVAg5Qe3rsbCRt5gJPSaR5bbM0-xclhQQbPhYGivTtFg9lAbYG7-LMwhsEJy6utkjO8RO47W-dWyafFl1Ky1a2fk2SCvHNCRRr9HqDuUXiV7BSxvqEu9V1l-5iVAHV3Trw1rHllAs5JbVLpatEUrFcMalUjP6b9lBBQhfAabovNDN9-_1jmL8Yot5z78hoC56OPIgd95Tqx9CZyB5mnkfNdJd3Si0jeX335QbEYniZIafihAu5vcEmhON9RHVo- -sxN0- -5uhkmw-hHQjHbjTvUXSsACQqCL4NwtPj2ipRDSuQr_bHhM1wvzqMt6roavQ8OCxvQv7yxZ6IZOl0Lr23PFtfl99qvokKtgf2jiPIwnhDNh9ZaqFUv_Ir6Qt7keBO5DwO9a7J6TjjmWy5TF2zsMqtCPyDsoQzkwRSZdvvSJ-rQtiWl7AWlftA6vld6gXTrq75s8i9VbjkeVv6JNG5aIkI-1aGIux-gJsDxrG8F7YUAewL2MlFzapPAlOTaqRKNOAnDQmqxk6WCHnz3bgRva0KOtVc2fkT-wROP6j9vxQ5ZS-9EZ2YtFptpFIdXUuMriNFZtbxjerxSiWhesW_Xv0cD_YnstynUDxcoAcPdefvSiysADZ-uuNMAg6ua-3vwDtxath65Kw1kc3RgmjTaDlj3qbsmpVVYBNR3K-CToc0f_O0X-M4Ck5gU33rxLOBQJNfJWZcGWmaJt0Am_bAbaGdx4hO0NKtX7-HXE4nORw17yGpuIxhOkuRMDSOr4x3Zrf0G_mcrECl5qXKcHaZz88RLqlRmcQZEam7lQADzFlQ3-4p5vUwmNEqnepOcc58teRG5uoOQKFl8ELvziD7mM93z2w48LRV1S52XGUbEm7rRWlVl0zXS8EzBiDlUaBLOsWU4mZolj2sJ3-6TGspFNRnZpofi1Zv7UairtisEP6uDsdhTIezHHJ28M4t1D6cLnyJnDO7spWgOtJ_9DYwBPYkLBKAQGXJtH1Osxrfw3SDCdcBERtqf7CTKYCg9vIQSaPmCF14Yn2EqoiBgyYatYEjEwz3-42npETXyZ6oong_tlPA2Qk6Q6UtJbLf7V7wYOZ8eWHnn_L_EdMvnvwze9dYXXHTt7OTpZgm1mfHYBTeLzh3-VqDaMxza4INV3x7eM75KnoB64cwi8DPlu__TlRb2wvuBCK0guJ4KMM1GvMqw23fmpV47FKszgivgQLyTbDbRk_6UVKv6ZDpFaU4qy6J9CLej4QYRtyVCruJfhHd8C2wJMvnh5I2-hiDJ2Ytxm7YB5EuRvrxFV57ngwuz5lUngE4R6e67HmxM0on5Tp2McSUU_OHXg5NCr9iYK13v_wFoiAZprtj7RdPpCGieOdffLqYGh0aDx3lB_ho_g0eHO9cYcbynrvUFw4apLQLoq9xzMLvlMidHFV-QBBIvRnqnL3qx_y7]--></g></svg>